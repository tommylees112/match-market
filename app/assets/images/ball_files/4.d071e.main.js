webpackJsonp([4],{1454:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1455);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1455:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return a.default.createElement("div",{className:c.default.container},a.default.createElement("a",{href:"/"},a.default.createElement(u.default,{type:"logo",className:c.default.logo})),a.default.createElement("p",{className:c.default.text},"Make something awesome"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var l=o(1),a=n(l),i=o(18),u=n(i),s=o(1456),c=n(s)},1456:function(e,t){e.exports={colorGrey:"#999","--sm":"(--sm)","--md-min":"(--md-min)",container:"_2WMKE",logo:"_1Ig-9",text:"_1cQDt"}},1457:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.reportPhotoImpressions=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=r(s),d=o(5),f=o(1492),p=r(f),h=o(2),m=o(12),y=n(m),v=.5;t.reportPhotoImpressions=function(e){var t={photo:s.PropTypes.object.isRequired,position:s.PropTypes.number.isRequired,reportPhotoImpression:s.PropTypes.func.isRequired},o=function(t){function o(){return l(this,o),a(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return i(o,t),u(o,[{key:"reportImpression",value:function(e){if(e){var t=this.props,o=t.photo,n=t.position;(0,t.reportPhotoImpression)({photo:{id:o.id,position:n}})}}},{key:"render",value:function(){var t=c.default.createElement(e,Object.assign({},this.props));return h.isBrowser&&(0,h.checkSupportsIntersectionObservers)()?c.default.createElement(p.default,{onChange:this.reportImpression.bind(this),threshold:v},t):t}}]),o}(s.Component);o.displayName="WrappedReportPhotoImpressionsComponent",o.propTypes=t;var n={reportPhotoImpression:y.reportPhotoImpression};return(0,d.connect)(null,n)(o)}},1458:function(e,t){e.exports={floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",container:"y5w1y",photo:"cV68d",photoInfo:"hduMF",leftActions:"_31wG7 _3YIV2",rightActions:"_287Ma tPMQE",user:"_114MZ",collectionButtonContainer:"_1XDiz",userLink:"_3isoq",userImageContainer:"_8p1N4 _3YIV2",userAvatar:"_1fYZF",userName:"_1imKo _3YIV2",userTopLink:"_1f9xN"}},1459:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),s=n(u),c=o(24),d=n(c),f=o(3),p=n(f),h=o(2),m=o(18),y=n(m),v=o(1461),_=n(v),b="Where%20have%20you%20been%20all%20my%20life%3F",P="mailto:support@unsplash.com?subject="+b,g=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"renderFooterMain",value:function(){return s.default.createElement("div",{className:_.default.footerMain},s.default.createElement("div",{className:_.default.linkContainer},this.renderUnsplashLinks(),this.renderOffsetColumn(),this.renderInfoLinks(),this.renderConnectLinks(),this.renderWhatsNewLinks()))}},{key:"renderUnsplashLinks",value:function(){return s.default.createElement("div",{className:_.default.unsplashLinks},s.default.createElement("span",{className:_.default.footerMainHeader},"Unsplash"),s.default.createElement("p",{className:_.default.footerMainParagraph},"Beautiful, ",s.default.createElement(d.default,{to:"/license",rel:"nofollow"},"free photos")," gifted by the world’s most generous community of photographers."))}},{key:"renderOffsetColumn",value:function(){return s.default.createElement("div",{className:_.default.offsetColumn})}},{key:"renderInfoLinks",value:function(){return s.default.createElement("div",{className:_.default.infoLinks},s.default.createElement("span",{className:_.default.footerMainHeader},"Info"),s.default.createElement("ul",{className:(0,p.default)(_.default.footerMainNav,"list-unstyled")},s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{href:P},"Contact Us")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement(d.default,{to:"/wallpaper"},"HD Wallpapers")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement(d.default,{to:"/explore"},"Explore")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement(d.default,{to:"/privacy",rel:"nofollow"},"Privacy Policy")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement(d.default,{to:"/terms",rel:"nofollow"},"Terms")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{href:(0,h.railsUrl)()+"/security",rel:"nofollow"},"Security")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{href:(0,h.railsUrl)()+"/developers"},"Developers/API")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement(d.default,{to:"https://community.unsplash.com/help",rel:"nofollow"},"Help"))))}},{key:"renderConnectLinks",value:function(){return s.default.createElement("div",{className:_.default.connectLinks},s.default.createElement("span",{className:_.default.footerMainHeader},"Connect"),s.default.createElement("ul",{className:(0,p.default)(_.default.footerMainNav,"list-unstyled")},s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{title:"Follow Unsplash on Twitter",target:"_blank",rel:"noopener noreferrer",href:(0,h.trackUrl)("https://twitter.com/unsplash")},"Twitter")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{title:"Follow Unsplash on Facebook",target:"_blank",rel:"noopener noreferrer",href:(0,h.trackUrl)("https://www.facebook.com/unsplash")},"Facebook")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{title:"Follow Unsplash on Medium",target:"_blank",rel:"noopener noreferrer",href:(0,h.trackUrl)("https://medium.com/unsplash-unfiltered")},"Medium")),s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{title:"Follow Unsplash on Instagram",target:"_blank",rel:"noopener noreferrer",href:(0,h.trackUrl)("https://instagram.com/unsplash")},"Instagram"))))}},{key:"renderWhatsNewLinks",value:function(){return s.default.createElement("div",{className:_.default.whatsNewLinks},s.default.createElement("span",{className:_.default.footerMainHeader},"What’s New"),s.default.createElement("ul",{className:(0,p.default)(_.default.footerMainNav,"list-unstyled")},this.renderWhatsNewItem("Hello, Unsplash, Inc.","https://medium.com/unsplash-unfiltered/hello-unsplash-inc-ce02b1c79d23"),this.renderWhatsNewItem("Unsplash turns 3","https://1095.unsplash.com/"),this.renderWhatsNewItem("Buy the Unsplash Book","https://book.unsplash.com/"),this.renderWhatsNewItem("Unsplash Filters for Polarr","https://unsplash.polarr.co/"),this.renderWhatsNewItem("Unsplash 4.0 Release","https://medium.com/swlh/announcing-unsplash-4-0-3421b47d8f88"),this.renderWhatsNewItem("Unsplash Instant for Chrome","https://instant.unsplash.com/"),this.renderWhatsNewItem("Unsplash Book Kickstarter","https://www.kickstarter.com/projects/mikaelcho/the-unsplash-book"),this.renderWhatsNewItem("Unsplash Source","https://source.unsplash.com/")))}},{key:"renderWhatsNewItem",value:function(e,t){return s.default.createElement("li",{className:_.default.footerMainNavItem},s.default.createElement("a",{href:(0,h.trackUrl)(t),target:"_blank",rel:"noopener noreferrer"},e))}},{key:"renderFooterSub",value:function(){return s.default.createElement("div",{className:_.default.footerSub},s.default.createElement(d.default,{to:"/",title:"Home — Unsplash",className:_.default.footerSubLogoLink},s.default.createElement(y.default,{type:"logo",className:_.default.footerSubLogo})),s.default.createElement("span",{className:_.default.footerSlogan},"Make something awesome."))}},{key:"render",value:function(){return s.default.createElement("footer",{className:_.default.footerGlobal},s.default.createElement("div",{className:"container"},this.renderFooterMain(),this.renderFooterSub()))}}]),t}(u.Component);t.default=g},1460:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1459);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1461:function(e,t){e.exports={container:"_22ZDn dvlCB","sm-col":"_13jTO","sm-col-2":"_2HhCB","sm-col-3":"_6UKAh","sm-col-4":"_2mgRh","md-col-1":"_3AEJ_","md-col-3":"TBNoB",px2:"_1vc38",clearfix:"_1iK9o","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",colorGrey:"#999",fontWeightBold:"_3Y6hz",footerGlobal:"_1f2gP _22ZDn dvlCB",footerMainHeader:"_1vshC _3Y6hz",footerMainParagraph:"lTb2N",footerMainNav:"nl-Wg",footerMainNavItem:"_2p2mU",footerSub:"h2R3j",footerSubLogoLink:"_1A2Ps",footerSubLogo:"QFeEP",footerSlogan:"_3lURe",linkContainer:"_2AHtx _1iK9o",unsplashLinks:"_1O72u _13jTO _2mgRh",offsetColumn:"_3-XDF _13jTO _3AEJ_",infoLinks:"_22FzX _13jTO _2HhCB",connectLinks:"_2yQvv _13jTO _2HhCB",whatsNewLinks:"dsn0m _13jTO _2mgRh TBNoB"}},1464:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedContainer=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=r(s),d=o(5),f=o(12),p=n(f),h=o(1466),m=r(h),y={setContentWidth:s.PropTypes.func.isRequired,children:s.PropTypes.element.isRequired},v=t.FeedContainer=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.setContentWidth(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"setContentWidth",value:function(){var e=this.props.setContentWidth;this.elem&&e(this.elem.offsetWidth-24)}},{key:"handleResize",value:function(){this.setContentWidth()}},{key:"render",value:function(){var e=this,t=this.props.children;return c.default.createElement("div",{className:m.default.container,ref:function(t){e.elem=t}},t)}}]),t}(s.Component);v.propTypes=y;var _={setContentWidth:p.setContentWidth};t.default=(0,d.connect)(null,_)(v)},1465:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1464);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1466:function(e,t){e.exports={container:"Nqw-T _22ZDn dvlCB"}},1467:function(e,t,o){"use strict";function n(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return[i.VARIANTS.showArrow,i.VARIANTS.showBottomBar].includes(t)&&!o}function r(e){var t=s.safeLocalStorageHelpers.hasItem(u.HAS_DOWNLOADED_A_PHOTO),o=e.downloadButtonXp===i.VARIANTS.showArrow;return n(e)&&o&&!t}function l(e){var t=e.downloadButtonXp,o=e.inFollowingFeed;return t===i.VARIANTS.showWord&&!o}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsModes=t.ActionsStates=void 0,t.checkShouldShowDownloadButton=n,t.checkShouldShowTooltip=r,t.checkShouldShowLabel=l;var a=o(141),i=o(482),u=o(186),s=o(2);t.ActionsStates=(0,a.Enum)({All:"All",AddToCollectionButton:"AddToCollectionButton",AddToCollectionButtonAndPhotographerInfo:"AddToCollectionButtonAndPhotographerInfo",DownloadButton:"DownloadButton"}),t.ActionsModes=(0,a.Enum)({All:"All",CollectionsOnboarding:"CollectionsOnboarding"})},1468:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedNav=void 0;var r=o(1),l=n(r),a=o(1472),i=n(a),u=o(1475),s=n(u),c={fallbackToGridChanger:r.PropTypes.bool,location:r.PropTypes.object.isRequired,isHome:r.PropTypes.bool,leftChild:r.PropTypes.element,rightChild:r.PropTypes.element},d={fallbackToGridChanger:!0,isHome:!1},f=t.FeedNav=function(e){var t=e.location,o=e.fallbackToGridChanger,n=e.leftChild,r=e.rightChild,a=e.isHome,u=!o||void 0!==r&&null!==r?r:l.default.createElement(i.default,{location:t,isHome:a});return l.default.createElement("div",{className:s.default.container},l.default.createElement("div",{className:s.default.clearfix},n&&l.default.createElement("span",{className:s.default.firstFloatLeft},n),u&&l.default.createElement("span",{className:s.default.lastFloatRight},u)))};f.displayName="FeedNav",f.propTypes=c,f.defaultProps=d,t.default=f},1469:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1468);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1470:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleToggleClick=void 0;var r=o(491),l=n(r),a=o(490);t.handleToggleClick=function(e,t,o,n){l.default.set(a.GRID,e),o(e),n(e)}},1471:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.GridChanger=void 0;var a=o(1),i=r(a),u=o(5),s=o(3),c=r(s),d=o(12),f=n(d),p=o(184),h=o(493),m=o(18),y=r(m),v=o(1470),_=o(1476),b=r(_),P={preferredGrid:a.PropTypes.oneOf([h.SINGLE,h.MULTI]).isRequired,setPreferredGrid:a.PropTypes.func.isRequired,trackGridSwitch:a.PropTypes.func.isRequired},g=[{type:h.SINGLE,icon:"grid-single"},{type:h.MULTI,icon:"grid-multi"}],w=t.GridChanger=function(e){var t=e.preferredGrid,o=e.setPreferredGrid,n=e.trackGridSwitch;return i.default.createElement("div",{className:b.default.gridSelector},g.map(function(e){return i.default.createElement("button",{key:e.type,className:(0,c.default)(b.default.gridButton,l({},b.default.activeGridLink,t===e.type)),onClick:function(){return(0,v.handleToggleClick)(e.type,t,o,n)}},i.default.createElement(y.default,{className:b.default.gridIcon,type:e.icon}))}))};w.displayName="GridChanger",w.propTypes=P;var T=function(e){return{preferredGrid:(0,p.getPreferredGrid)(e)}},E={setPreferredGrid:f.setPreferredGrid,trackGridSwitch:f.trackGridSwitch};t.default=(0,u.connect)(T,E)(w)},1472:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1471);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1473:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPhoto=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=r(s),d=o(5),f=o(3),p=r(f),h=o(24),m=r(h),y=o(140),v=r(y),_=o(12),b=n(_),P=o(2),g=o(285),w=o(66),T=o(137),E=o(482),C=o(185),O=r(C),k=o(486),j=r(k),M=o(485),N=r(M),R=o(484),S=r(R),B=o(1477),F=r(B),A=o(1467),I={children:s.PropTypes.node,photo:s.PropTypes.object.isRequired,followingFeedClassName:s.PropTypes.string,containerClassName:s.PropTypes.string,photoRef:s.PropTypes.func,width:s.PropTypes.number,height:s.PropTypes.number,imageUrl:s.PropTypes.string,location:s.PropTypes.object.isRequired,linkTo:s.PropTypes.oneOfType([s.PropTypes.object,s.PropTypes.string]),showPhotoInfoOnHover:s.PropTypes.bool,downloadButtonXp:s.PropTypes.oneOf(Object.keys(E.VARIANTS)).isRequired,fillWidth:s.PropTypes.bool,jsLoaded:s.PropTypes.bool.isRequired,windowWidth:s.PropTypes.number,setSelectedPhoto:s.PropTypes.func.isRequired,actionsMode:s.PropTypes.oneOf([A.ActionsModes.All,A.ActionsModes.CollectionsOnboarding]).isRequired,shouldIncludeLink:s.PropTypes.bool.isRequired,inFollowingFeed:s.PropTypes.bool},x={inFollowingFeed:!1,shouldIncludeLink:!0,actionsMode:A.ActionsModes.All},D=t.SmallPhoto=function(e){function t(e){l(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handleMouseMove=o.handleMouseMove.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o.state={isHovering:!1},o}return i(t,e),u(t,[{key:"getActionsState",value:function(){var e=this.state.isHovering,t=this.props,o=t.actionsMode,n=t.jsLoaded,r=t.downloadButtonXp,l=t.inFollowingFeed,a=(0,A.checkShouldShowDownloadButton)({downloadButtonXp:r,inFollowingFeed:l});switch(o){case A.ActionsModes.CollectionsOnboarding:return e||!n?A.ActionsStates.AddToCollectionButtonAndPhotographerInfo:A.ActionsStates.AddToCollectionButton;case A.ActionsModes.All:return e||!n?A.ActionsStates.All:a&&!e?A.ActionsStates.DownloadButton:void 0}}},{key:"handleMouseMove",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"renderPhotoInfo",value:function(){var e=this,t=this.props,o=t.photo,n=t.linkTo,r=t.location,l=t.setSelectedPhoto,a=t.windowWidth,i=t.shouldIncludeLink,u=!(0,P.checkIsPhone)(a);return c.default.createElement("div",{className:(0,p.default)(F.default.photoInfo,void 0!==this.getActionsState()&&F.default.photoInfoIsShown),onMouseMove:u&&this.handleMouseMove,onMouseLeave:u&&this.handleMouseLeave},i&&c.default.createElement(m.default,{to:n||(0,P.buildPhotoLink)(o,r,a),className:F.default.photoInfoLink,onClick:function(){return l({id:o.id,ref:e.linkElem})}}),this.renderActions())}},{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,o=e.photo;return c.default.createElement(j.default,{type:"alt",location:t,photo:o})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,o=e.photo;return c.default.createElement("div",{className:F.default.addToCollectionButtonContainer},c.default.createElement(S.default,{className:F.default.collectionButton,type:"alt",photo:o,location:t}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.photo,o=e.downloadButtonXp,n=e.inFollowingFeed,r=(0,A.checkShouldShowTooltip)({downloadButtonXp:o,inFollowingFeed:n}),l=(0,A.checkShouldShowLabel)({downloadButtonXp:o,inFollowingFeed:n});return c.default.createElement("div",{className:F.default.buttonDownloadContainer},c.default.createElement(N.default,{type:"alt",photo:t,showLabel:l,showTooltip:r}))}},{key:"renderUserLink",value:function(){var e=this.props.photo.user;return c.default.createElement("div",{className:F.default.userContainer},c.default.createElement(O.default,{includeAvatar:!0,user:e,type:"alt"}))}},{key:"renderTopActions",value:function(){switch(this.getActionsState()){case A.ActionsStates.AddToCollectionButton:case A.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return c.default.createElement("div",{className:F.default.actionsTop},this.renderAddToCollectionButton());case A.ActionsStates.All:return c.default.createElement("div",{className:F.default.actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton());case A.ActionsStates.DownloadButton:case void 0:return}}},{key:"renderBottomActions",value:function(){switch(this.getActionsState()){case A.ActionsStates.All:return c.default.createElement("div",{className:F.default.actionsBottom},this.renderUserLink(),this.renderDownloadButton());case A.ActionsStates.AddToCollectionButtonAndPhotographerInfo:return c.default.createElement("div",{className:F.default.actionsBottom},this.renderUserLink());case A.ActionsStates.DownloadButton:return c.default.createElement("div",{className:F.default.actionsBottom},this.renderDownloadButton());case A.ActionsStates.AddToCollectionButton:case void 0:return}}},{key:"renderActions",value:function(){return void 0!==this.getActionsState()?c.default.createElement("div",null,this.renderTopActions(),this.renderBottomActions()):null}},{key:"renderImage",value:function(){var e=this,t=this.props,o=t.photo,n=t.photoRef,r=t.linkTo,l=t.width,a=t.height,i=t.imageUrl,u=t.location,s=t.windowWidth,d=t.fillWidth,f=t.children,h=t.followingFeedClassName,y=t.inFollowingFeed,_={backgroundImage:(0,P.urlToBackgroundImage)(i),backgroundColor:o.color,backgroundSize:"cover",width:d?"100%":l,height:a};return c.default.createElement(m.default,{ref:function(t){(0,v.default)(n)&&n(t),e.linkElem=t},to:r||(0,P.buildPhotoLink)(o,u,s),title:"View the photo By "+o.user.name,className:y&&(0,p.default)(F.default.photo,h),style:y?_:{}},!y&&c.default.createElement("img",{alt:o.description||null,src:i,className:F.default.imgPhoto,style:{width:d?"100%":l,height:a}}),f)}},{key:"render",value:function(){var e=this.props,t=e.containerClassName,o=e.showPhotoInfoOnHover;return c.default.createElement("div",{className:(0,p.default)(F.default.container,t)},this.renderImage(),o&&this.renderPhotoInfo())}}]),t}(s.Component);D.displayName="SmallPhoto",D.propTypes=I,D.defaultProps=x;var W=function(e){return{jsLoaded:(0,g.getJsLoaded)(e),windowWidth:(0,w.getWindowWidth)(e),downloadButtonXp:(0,T.getDownloadButtonXp)(e)}},U={setSelectedPhoto:b.setSelectedPhoto};t.default=(0,d.connect)(W,U)(D)},1474:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1473);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1475:function(e,t){e.exports={clearfix:"_1-7wz _1VOuf","--xs-max":"(--xs-max)",floatLeft:"_3YIV2",floatRight:"tPMQE",container:"_2sKzG _22ZDn dvlCB",firstFloatLeft:"_2d9fA _3YIV2",lastFloatRight:"_3lOS2 tPMQE"}},1476:function(e,t){e.exports={"--xs-max":"(--xs-max)",colorLightBlack:"#111",colorGrey:"#999",textDecorationNone:"_21rCr",gridSelector:"LJo2j",gridButton:"_2OLVr _21rCr",activeGridLink:"_1qJx4",gridIcon:"_32SMR"}},1477:function(e,t){e.exports={floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorPink:"#f15151",colorLightGrey:"#ddd",hoverTransition:"_2tPAp",container:"_3vgBX",photo:"_1hz5D",imgPhoto:"KW7g_ _1hz5D",photoInfo:"bQJ8Z",photoInfoIsShown:"_2j4gG",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",actionsBottom:"_1a5YS",userContainer:"CpQi5 _3YIV2",buttonDownloadContainer:"_3i-Ef tPMQE",addToCollectionButtonContainer:"_3W6mQ"}},1478:function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(1),u=o(19);o(187),o(189),o(284),o(188),o(488),o(190),o(139);var s=o(2),c={children:i.PropTypes.element.isRequired,handleFetch:i.PropTypes.func.isRequired,handleFetchArgs:i.PropTypes.shape({nextPage:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),perPage:i.PropTypes.number,orderBy:i.PropTypes.string}).isRequired,handleFetchResponse:i.PropTypes.func.isRequired,handleFetchError:i.PropTypes.func.isRequired,isDoneFetching:i.PropTypes.bool.isRequired,shouldResetFeedContents:i.PropTypes.bool},d=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),a(t,[{key:"componentDidMount",value:function(){this.addScrollSubscription()}},{key:"componentWillUpdate",value:function(e){var t=this,o=this.props,n=o.handleFetch,r=o.handleFetchError,l=o.handleFetchResponse,a=e.shouldResetFeedContents,i=e.handleFetchArgs;if(a){this.removeScrollSubscription();n(i.nextPage,i.perPage,i.orderBy).then(function(e){t.addScrollSubscription(),l(e)}).catch(r)}}},{key:"componentWillUnmount",value:function(){this.removeScrollSubscription()}},{key:"addScrollSubscription",value:function(){var e=this,t=u.Observable.fromEvent(window,"scroll").filter(function(){return(0,s.shouldFetchMoreContent)()}).map(function(){return e.props.handleFetchArgs.nextPage}).distinct();this.scrollSubscription=t.subscribe(this.invokeSuppliedFetchMethod.bind(this))}},{key:"removeScrollSubscription",value:function(){this.scrollSubscription.unsubscribe(),this.fetchSubscription&&this.fetchSubscription.unsubscribe()}},{key:"invokeSuppliedFetchMethod",value:function(){var e=this.props,t=e.handleFetch,o=e.handleFetchArgs,n=e.handleFetchResponse,r=e.handleFetchError,l=e.isDoneFetching;if(t&&!l){var a=o.nextPage,i=o.perPage,s=o.orderBy,c=u.Observable.defer(function(){return t(a,i,s)}).retry(3).take(1);this.fetchSubscription=c.subscribe(n,r)}}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component);d.displayName="FeedScrollHandler",d.propTypes=c,t.default=d},1479:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1478);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1480:function(e,t,o){"use strict";function n(e){var t=r.safeLocalStorageHelpers.hasItem(l.HAS_DOWNLOADED_A_PHOTO);return e===a.VARIANTS.showBottomBar&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_ATTRIBUTE=void 0,t.checkShouldShowDownloadBottomBar=n;var r=o(2),l=o(186),a=o(482);t.TEST_ATTRIBUTE="photos-grid-view"},1481:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return{totalHeight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,photos:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}function s(e){var t=0,o=e[0];return e.forEach(function(e,n){e.totalHeight<o.totalHeight&&(t=n,o=e)}),t}function c(e){return Array.from({length:e}).map(function(){return u()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var d=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(1),p=r(f),h=o(5),m=o(3),y=r(m),v=o(12),_=n(v),b=o(66),P=o(137),g=o(482),w=o(2),T=o(1484),E=r(T),C=o(1480),O=o(1489),k=r(O),j={photos:f.PropTypes.array.isRequired,location:f.PropTypes.object.isRequired,smallPhotoProps:f.PropTypes.object,windowWidth:f.PropTypes.number,downloadButtonXp:f.PropTypes.oneOf(Object.keys(g.VARIANTS)).isRequired,showDownloadBottomBar:f.PropTypes.func.isRequired,hideDownloadBottomBar:f.PropTypes.func.isRequired,shouldUseContainerPadding:f.PropTypes.bool},M={shouldUseContainerPadding:!0},N=t.Masonry=function(e){function t(e){l(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={gridCount:(0,w.isPhoneOrTablet)(e.windowWidth)?2:3},o.renderGrid=o.renderGrid.bind(o),o}return i(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.downloadButtonXp,o=e.showDownloadBottomBar;(0,C.checkShouldShowDownloadBottomBar)(t)&&o()}},{key:"componentWillUpdate",value:function(e){var t=this.props.windowWidth;e.windowWidth!==t&&((0,w.isPhoneOrTablet)(e.windowWidth)?this.setState({gridCount:2}):this.setState({gridCount:3}))}},{key:"componentWillUnmount",value:function(){this.props.hideDownloadBottomBar()}},{key:"getGridData",value:function(e){var t=this.props.photos,o=c(e);return t.forEach(function(e){var t=o[s(o)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))}),o.map(function(e){return e.photos})}},{key:"renderGrid",value:function(e,t){var o=this.props,n=o.location,r=o.photos,l=o.smallPhotoProps,a=this.state.gridCount;return p.default.createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,y.default)(k.default.Grid,3===a&&k.default.GridThree,2===a&&k.default.GridTwo,1===a&&k.default.GridOne)},e.map(function(e,t){var o=r.indexOf(e);return p.default.createElement(E.default,{smallPhotoProps:l,gridCount:a,photo:e,position:o,key:t,location:n})}))}},{key:"render",value:function(){var e=this.state.gridCount,t=this.props.shouldUseContainerPadding,o=this.getGridData(e).map(this.renderGrid);return p.default.createElement("div",{id:"gridMulti",className:(0,y.default)(k.default.container,t&&k.default.containerWithPadding),"data-test":C.TEST_ATTRIBUTE},o)}}]),t}(f.Component);N.displayName="Masonry",N.propTypes=j,N.defaultProps=M;var R=function(e){return{windowWidth:(0,b.getWindowWidth)(e),downloadButtonXp:(0,P.getDownloadButtonXp)(e)}},S={showDownloadBottomBar:_.showDownloadBottomBar,hideDownloadBottomBar:_.hideDownloadBottomBar};t.default=(0,h.connect)(R,S)(N)},1482:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1483:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),l=n(r),a=o(5),i=o(53),u=o(487),s=o(30),c=o(1474),d=n(c),f=o(1457),p=o(1482),h=o(1490),m=n(h),y={location:r.PropTypes.object.isRequired,smallPhotoProps:r.PropTypes.object,contentWidth:r.PropTypes.number,pixelRatio:r.PropTypes.number.isRequired,photo:r.PropTypes.object.isRequired,gridCount:r.PropTypes.number.isRequired},v=function(e){var t=e.smallPhotoProps,o=e.gridCount,n=e.location,r=e.contentWidth,a=e.pixelRatio,i=e.photo,u=16,c=Math.ceil(r/o-2*u),f=(0,s.getImageSizeAndImgixUrl)({photo:i,isMasonry:!0,parentWidth:c,pixelRatio:a}),h=f.imageUrl,y=f.imageWidth,v=f.imageHeight;return l.default.createElement("div",{className:m.default.photoContainer,"data-test":p.TEST_ATTRIBUTE},l.default.createElement(d.default,Object.assign({fillWidth:!0,showPhotoInfoOnHover:!0,width:y,height:v,imageUrl:h,photo:i,location:n},t)))};v.displayName="MasonryPhoto",v.propTypes=y;var _=function(e){return{contentWidth:(0,u.getContentWidth)(e),pixelRatio:(0,i.getPixelRatio)(e)}};t.default=(0,f.reportPhotoImpressions)((0,a.connect)(_)(v))},1484:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1483);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1485:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1481);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1486:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="page-header-title"},1487:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),l=n(r),a=o(3),i=n(a),u=o(1491),s=n(u),c=o(1486),d=function(e){var t=e.title,o=e.className,n=e.children;return l.default.createElement("div",{className:(0,i.default)(s.default.container,o)},l.default.createElement("div",{className:s.default.containerPageHeader},l.default.createElement("h1",{className:s.default.title,"data-test":c.TEST_ATTRIBUTE},t),l.default.createElement("div",{className:s.default.children},n)))};d.propTypes={title:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.element]).isRequired,className:r.PropTypes.string,children:r.PropTypes.element},t.default=d},1488:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1487);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1489:function(e,t){e.exports={floatLeft:"_3YIV2","--sm-min":"(--sm-min)",clearfix:"_1VOuf",container:"_3_WtK _1VOuf",containerWithPadding:"_1C-lZ",Grid:"_1OvAL _3YIV2",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1490:function(e,t){e.exports={photoContainer:"_1pn7R"}},1491:function(e,t){e.exports={clearfix:"_1iK9o",container:"_2v9nm _1iK9o _22ZDn dvlCB","sm-col-8":"_2W2Kx","sm-col-10":"_1QBDP","md-col-6":"_30lHv","md-col-8":"_1_q6w",px2:"_1vc38","--sm-min":"(--sm-min)",headingL:"_2lCRJ",title:"_1GUcz _2lCRJ _1QBDP _1_q6w",children:"_3NchO _2W2Kx _30lHv"}},1492:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=(n(s),o(142)),d=n(c),f=o(1493),p=function(e){return"function"==typeof e},h=function(e){function t(){var e,o,n,r;l(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return o=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={inView:!1},n.node=null,n.handleNode=function(e){n.node&&(0,f.unobserve)(n.node),e&&(0,f.observe)(e,n.handleChange,n.props.threshold),n.node=e},n.handleChange=function(e){return n.setState({inView:e})},r=o,a(n,r)}return i(t,e),u(t,[{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&t.inView!==this.state.inView&&(this.props.onChange(t.inView),t.inView&&e.unobserve)}},{key:"componentDidUpdate",value:function(e,t){t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,f.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,f.unobserve)(this.node),this.node=null)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.render,n=e.tag,l=(e.triggerOnce,e.threshold,r(e,["children","render","tag","triggerOnce","threshold"])),a=this.state.inView;return(0,s.createElement)(n,Object.assign({},l,{ref:this.handleNode}),a&&p(o)?o():null,p(t)?t(a):t)}}]),t}(s.Component);h.propTypes={tag:d.default.node,children:d.default.oneOfType([d.default.func,d.default.node]),triggerOnce:d.default.bool,threshold:d.default.number,onChange:d.default.func,render:d.default.func},h.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=h},1493:function(e,t,o){"use strict";function n(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&t){var n=i.get(o);n||(n=new IntersectionObserver(l,{threshold:o}),i.set(o,n)),a.set(e,{callback:t,visible:!1,threshold:o}),n.observe(e)}}function r(e){if(e){var t=a.get(e);if(t){a.delete(e);var o=i.get(t.threshold);o&&o.unobserve(e);var n=!1;a.forEach(function(e){e.threshold===t.threshold&&(n=!0)}),o&&!n&&(o.disconnect(),i.delete(t.threshold))}}}function l(e){e.forEach(function(e){if(a.has(e.target)){var t=e.isIntersecting,o=e.intersectionRatio,n=e.target,r=a.get(n),l=r.callback,i=r.visible,u=r.threshold,s=i?o>u:o>=u;void 0!==t&&(s=s&&t),a.set(n,{callback:l,visible:s,threshold:u}),l&&l(s)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe=n,t.unobserve=r;var a=new Map,i=new Map;t.default={observe:n,unobserve:r}},1495:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1496:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photo=void 0;var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),u=o(1),s=n(u),c=o(185),d=n(c),f=o(486),p=n(f),h=o(484),m=n(h),y=o(485),v=n(y),_=o(1498),b=n(_),P=o(1458),g=n(P),w=o(1495),T={location:u.PropTypes.object.isRequired,photo:u.PropTypes.object.isRequired,position:u.PropTypes.number.isRequired},E=t.Photo=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,o=e.photo;return s.default.createElement(p.default,{photo:o,location:t})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,o=e.photo;return s.default.createElement("div",{className:g.default.collectionButtonContainer},s.default.createElement(m.default,{photo:o,location:t}))}},{key:"renderleftActions",value:function(){return s.default.createElement("div",{className:g.default.leftActions},this.renderLikeButton(),this.renderAddToCollectionButton())}},{key:"renderRightActions",value:function(){var e=this.props.photo;return s.default.createElement("div",{className:g.default.rightActions},s.default.createElement(v.default,{photo:e,showLabel:!0}))}},{key:"renderUser",value:function(){var e=this.props.photo.user;return s.default.createElement("div",{className:g.default.user},s.default.createElement(d.default,{includeAvatar:!0,user:e}))}},{key:"renderPhotoInfo",value:function(){return s.default.createElement("div",{className:g.default.photoInfo},this.renderleftActions(),this.renderUser(),this.renderRightActions())}},{key:"renderTopUserLink",value:function(){var e=this.props.photo.user;return s.default.createElement("div",{className:g.default.userTopLink},s.default.createElement(d.default,{includeAvatar:!0,user:e}))}},{key:"render",value:function(){var e=this.props,t=e.location,o=e.photo,n=e.position;return s.default.createElement("div",{className:g.default.container,"data-test":w.TEST_ATTRIBUTE},this.renderTopUserLink(),s.default.createElement(b.default,{location:t,position:n,photo:o}),this.renderPhotoInfo())}}]),t}(u.Component);E.displayName="Photo",E.propTypes=T,t.default=E},1497:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoImage=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=r(s),d=o(24),f=r(d),p=o(5),h=o(12),m=n(h),y=o(53),v=o(487),_=o(66),b=o(2),P=o(30),g=o(1457),w=o(1458),T=r(w),E={location:s.PropTypes.object.isRequired,photo:s.PropTypes.object.isRequired,windowWidth:s.PropTypes.number,contentWidth:s.PropTypes.number,pixelRatio:s.PropTypes.number.isRequired,setSelectedPhoto:s.PropTypes.func.isRequired},C=t.PhotoImage=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.photo,n=t.photo.user,r=t.pixelRatio,l=t.location,a=t.setSelectedPhoto,i=t.windowWidth,u=t.contentWidth,s=(0,b.checkIsPhone)(i)?i:u,d=(0,P.getImageSizeAndImgixUrl)({photo:o,parentWidth:s,pixelRatio:r}),p=d.imageUrl,h=d.imageWidth,m=d.imageHeight;return c.default.createElement(f.default,{ref:function(t){e.elem=t},href:(0,b.nodeUrl)()+"/photos/"+o.id,to:(0,b.buildPhotoLink)(o,l,i),title:"View the photo By "+n.name,onClick:function(){return a({id:o.id,ref:e.elem})}},c.default.createElement("img",{alt:o.description||null,src:p,className:T.default.photo,style:{width:h,height:m}}))}}]),t}(s.Component);C.displayName="PhotoImage",C.propTypes=E;var O=function(e){return{pixelRatio:(0,y.getPixelRatio)(e),windowWidth:(0,_.getWindowWidth)(e),contentWidth:(0,v.getContentWidth)(e)}},k={setSelectedPhoto:m.setSelectedPhoto};t.default=(0,g.reportPhotoImpressions)((0,p.connect)(O,k)(C))},1498:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1497);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1499:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1496);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1500:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photos-list-view"},1501:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),l=n(r),a=o(1499),i=n(a),u=o(1503),s=n(u),c=o(1500),d={location:r.PropTypes.object.isRequired,photos:r.PropTypes.array},f=function(e){var t=e.location,o=e.photos;return l.default.createElement("div",{id:"gridSingle",className:s.default.container,"data-test":c.TEST_ATTRIBUTE},o.map(function(e,o){return l.default.createElement(i.default,{key:e.id,photo:e,position:o,location:t})}))};f.displayName="PhotosListView",f.propTypes=d,t.default=f},1502:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1501);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1503:function(e,t){e.exports={"--xs-max":"(--xs-max)",container:"_1I8cs"}},1504:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Feed=void 0;var r=o(1),l=n(r),a=o(5),i=o(66),u=o(184),s=o(30),c=o(1485),d=n(c),f=o(1502),p=n(f),h=o(1465),m=n(h),y={photos:r.PropTypes.arrayOf(r.PropTypes.object).isRequired,location:r.PropTypes.object.isRequired,preferredGrid:r.PropTypes.string,isPhone:r.PropTypes.bool,feedFooter:r.PropTypes.element},v=t.Feed=function(e){var t=e.feedFooter,o=e.isPhone,n=e.preferredGrid,r=e.location,a=e.photos,i=(0,s.isMasonryLayout)(n)&&!o;return l.default.createElement(m.default,null,l.default.createElement("div",null,i?l.default.createElement(d.default,{photos:a,location:r}):l.default.createElement(p.default,{photos:a,location:r}),t))};v.displayName="Feed",v.propTypes=y;var _=function(e){return{preferredGrid:(0,u.getPreferredGrid)(e),isPhone:(0,i.getIsPhone)(e)}};t.default=(0,a.connect)(_)(v)},1505:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1504);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1506:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(1),a=n(l),i=o(30),u=o(1508),s=n(u),c={preferredGrid:l.PropTypes.string.isRequired},d={single:2,multi:9},f=function(e){var t=e.preferredGrid,o=(0,i.isMasonryLayout)(t),n=[].concat(r(Array(d[t]).keys()));return a.default.createElement("div",{className:s.default.container},n.map(function(e,t){return a.default.createElement("div",{key:t,className:o?s.default.thirdContainer:s.default.singleContainer},a.default.createElement("div",{className:o?s.default.third:s.default.single}),!o&&a.default.createElement("div",{className:s.default.photoInfo},a.default.createElement("div",{className:s.default.leftActions},a.default.createElement("div",{className:s.default.likeButtonPlaceholder}),a.default.createElement("div",{className:s.default.addToCollectionButtonPlaceholder})),a.default.createElement("div",{className:s.default.user},a.default.createElement("div",{className:s.default.userPlaceholder})),a.default.createElement("div",{className:s.default.rightActions},a.default.createElement("div",{className:s.default.downloadButtonPlaceholder}))))}))};f.displayName="FeedPlaceholder",f.propTypes=c,t.default=f},1507:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1506);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1508:function(e,t){e.exports={clearfix:"_1iK9o",container:"_1IQJa _1iK9o _22ZDn dvlCB","sm-col":"_13jTO","sm-col-12":"CTQC5","sm-col-6":"_3kobr","md-col-4":"_2axTb",px2:"_1vc38",floatLeft:"_3YIV2",floatRight:"tPMQE","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",singleContainer:"_3Eie_ _13jTO CTQC5 _1vc38",thirdContainer:"_1ulF9 _13jTO _3kobr _2axTb _1vc38",single:"_80hLe",third:"_1YEV-",placeholderAnimation:"_6bXJE",photoInfo:"_2UiKr",leftActions:"OJ6Md _3YIV2",user:"_2dxDA",rightActions:"Z8ES6 tPMQE",userPlaceholder:"_3WZQi",likeButtonPlaceholder:"_2b_eh",addToCollectionButtonPlaceholder:"_3WdH3",downloadButtonPlaceholder:"_2oX-1"}},1514:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SortableFeed=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=r(s),d=o(5),f=o(12),p=n(f),h=o(115),m=r(h),y=o(184),v=o(283),_=r(v),b=o(1507),P=r(b),g=o(1505),w=r(g),T=o(1479),E=r(T),C={photos:s.PropTypes.arrayOf(s.PropTypes.object).isRequired,showPlaceholder:s.PropTypes.bool,handleFetch:s.PropTypes.func.isRequired,handleFetchResponse:s.PropTypes.func.isRequired,photoFeed:s.PropTypes.shape({lastPageFetched:s.PropTypes.number,maxPage:s.PropTypes.number,orderBy:s.PropTypes.oneOf(["latest","popular","oldest"]),perPage:s.PropTypes.number}).isRequired,endContent:s.PropTypes.element,location:s.PropTypes.object.isRequired,preferredGrid:s.PropTypes.string.isRequired,setPreferredGrid:s.PropTypes.func.isRequired},O={handleFetch:null,showPlaceholder:!1},k=t.SortableFeed=function(e){function t(e){l(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={},o.handleFetchError=o.handleFetchError.bind(o),o}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,o=e.preferredGrid,n=e.setPreferredGrid;t.query.grid&&t.query.grid!==o&&n(t.query.grid)}},{key:"componentWillReceiveProps",value:function(e){var t=e.preferredGrid,o=e.photoFeed.orderBy,n=t!==this.props.preferredGrid,r=o!==this.props.photoFeed.orderBy;this.setState({shouldResetFeedContents:n||r})}},{key:"handleFetchError",value:function(e){m.default.captureException(e,{tags:{component:"SortableFeed"}})}},{key:"render",value:function(){var e=this.props,t=e.showPlaceholder,o=e.photos,n=e.preferredGrid,r=e.photoFeed,l=e.handleFetch,a=e.handleFetchResponse,i=e.location,u=e.endContent,s=r.lastPageFetched,d=r.maxPage,f=r.perPage,p=r.orderBy;if(t)return c.default.createElement(P.default,{preferredGrid:n});var h={nextPage:s+1,perPage:f,orderBy:p},m=s>d;return c.default.createElement(E.default,{handleFetch:l,handleFetchArgs:h,handleFetchResponse:a,handleFetchError:this.handleFetchError,shouldResetFeedContents:this.state.shouldResetFeedContents,isDoneFetching:m},c.default.createElement(w.default,{photos:o,location:i,feedFooter:m?u:c.default.createElement(_.default,null)}))}}]),t}(s.Component);k.displayName="SortableFeed",k.propTypes=C,k.defaultProps=O;var j=function(e){return{preferredGrid:(0,y.getPreferredGrid)(e)}},M={setPreferredGrid:p.setPreferredGrid};t.default=(0,d.connect)(j,M)(k)},1515:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1514);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1599:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){switch(e){case"likes":return"No liked photos :(";case"collections":return"No collections :(";default:return"No photos yet :("}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(1),a=n(l),i=o(1606),u=n(i),s={page:l.PropTypes.oneOf(["likes","collections"])},c=function(e){var t=e.page;return a.default.createElement("div",{className:u.default.container},r(t))};c.propTypes=s,t.default=c},1600:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1599);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1601:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments[1];return(e>99?"100+":e)+" best free "+u.default.words(t)+" HD photos on Unsplash"}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return arguments[1]+"'s Collection of "+e+" Free HD Photos on Unsplash"}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1],o=e>=100?"100+":e,n=o+" best free photos about "+t.title+" on Unsplash";return s(n,t.keywords)}Object.defineProperty(t,"__esModule",{value:!0}),t.maybeAppendKeywords=void 0,t.searchTitle=r,t.curatedCollectionTitle=l,t.collectionTitle=a;var i=o(288),u=n(i),s=t.maybeAppendKeywords=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===t.length?e:e+" | "+t.map(u.default).join(", ")}},1606:function(e,t){e.exports={"--sm-min":"(--sm-min)",container:"_3YyA_"}},1640:function(e,t,o){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments[1];return"Download over "+(e>999?"1000+":e)+" of the best free high-resolution "+t+" photos. These HD images are free to use for commercial projects."}function r(){return"See the "+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10)+" best free high-resolution photos officially curated by "+arguments[1]+". These HD images are free to use for commercial projects."}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1];return"See the best "+e+" free high-resolution photos of "+arguments[2]+" selected by "+t+". These HD images are free to use for commercial projects."}Object.defineProperty(t,"__esModule",{value:!0}),t.searchDescription=n,t.curatedCollectionDescription=r,t.collectionDescription=l},1655:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1681);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1678:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),l=n(r),a=o(1943),i=n(a),u=function(){return l.default.createElement("div",{className:i.default.container},l.default.createElement("div",{className:i.default.titlePlaceholder}),l.default.createElement("div",{className:i.default.descriptionPlaceholder}),l.default.createElement("div",{className:i.default.userPlaceholder}))};u.displayName="CollectionHeaderPlaceholder",t.default=u},1679:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1678);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1680:function(e,t,o){"use strict";function n(e){var t=e.selectedCollection,o=e.pixelRatio,n=e.windowWidth,a=t.cover_photo;if(a){var i=(0,r.getImageWidthFromParentWidth)({parentWidth:n,isMasonry:!1,maxWidth:1600}),u=(0,l.buildImgixUrl)({url:a.urls.raw,width:String(i),height:String(500),pixelRatio:o});return{backgroundImage:(0,l.urlToBackgroundImage)(u)}}return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.testUrlForCurated=void 0,t.getHeaderStyle=n;var r=o(30),l=o(2);t.testUrlForCurated=function(e){return/\/curated\//.test(e)}},1681:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionPhotos=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=r(s),d=o(138),f=r(d),p=o(23),h=r(p),m=o(5),y=o(12),v=n(y),_=o(489),b=o(2),P=o(93),g=o(67),w=o(53),T=o(66),E=o(28),C=o(287),O=o(300),k=o(26),j=r(k),M=o(137),N=o(508),R=r(N),S=o(1488),B=r(S),F=o(1469),A=r(F),I=o(1515),x=r(I),D=o(1454),W=r(D),U=o(1725),L=r(U),G=o(1679),q=r(G),H=o(1460),V=r(H),z=o(31),K=r(z),X=o(306),Q=r(X),Y=o(1684),J=r(Y),Z=o(18),$=r(Z),ee=o(185),te=r(ee),oe=o(302),ne=r(oe),re=o(519),le=r(re),ae=o(1600),ie=r(ae),ue=o(1680),se=o(1682),ce=o(1944),de=r(ce),fe=(0,g.normalizeResponse)("photoFeed"),pe=(0,g.normalizeResponse)("collection"),he={selectedCollection:s.PropTypes.object,photos:s.PropTypes.arrayOf(s.PropTypes.object).isRequired,location:s.PropTypes.object.isRequired,params:s.PropTypes.object.isRequired,photoFeed:s.PropTypes.object.isRequired,authUser:s.PropTypes.object,windowWidth:s.PropTypes.number,pixelRatio:s.PropTypes.number.isRequired,resetPhotoFeed:s.PropTypes.func.isRequired,unsetSelectedCollection:s.PropTypes.func.isRequired,updateData:s.PropTypes.func.isRequired,setSelectedCollection:s.PropTypes.func.isRequired,addPhotosToPhotoFeed:s.PropTypes.func.isRequired,trackCollectionDownloadButtonClick:s.PropTypes.func.isRequired,isDownloadCuratedCollection:s.PropTypes.bool.isRequired},me={router:s.PropTypes.object.isRequired},ye=t.CollectionPhotos=function(e){function t(e){l(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={showFeedPlaceholder:!0,relatedCollections:[],relatedKeywords:[]},o.handleFetch=o.handleFetch.bind(o),o.handleFetchResponse=o.handleFetchResponse.bind(o),o}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.mounted=!0,window.scrollTo(0,0);var e=this.props,t=e.location,o=e.params;this.fetchCollection(o.id,t,o)}},{key:"componentWillReceiveProps",value:function(e){var t=e.params.id,o=this.props.params.id,n=this.props.resetPhotoFeed;o!==t&&(this.setState({showFeedPlaceholder:!0}),n(),this.fetchCollection(t,e.location,e.params))}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props,t=e.resetPhotoFeed,o=e.unsetSelectedCollection;t(),o()}},{key:"fetchCollection",value:function(e,t,o){var n=this,r=this.context.router.replace,l=this.props,a=l.unsetSelectedCollection,i=l.updateData,u=l.setSelectedCollection,s=o.share_key,c=t.pathname;((0,ue.testUrlForCurated)(c)?j.default.collections.getCuratedCollection:j.default.custom.getCollection)(e,s).then(k.toJson).then(k.throwErrorsIfPresent).then(pe).then(function(e){var t=e.entities,o=e.result;a(),n.mounted&&(i(t),u(o),n.fetchCollectionPhotos())}).catch((0,_.handleClientSideError)(r))}},{key:"fetchCollectionPhotos",value:function(){var e=this,t=this.props,o=t.updateData,n=t.resetPhotoFeed,r=t.photoFeed,l=t.selectedCollection,a=r.orderBy,i=r.perPage,u=l.id,s=l.share_key,c=l.curated?j.default.collections.getCuratedCollectionPhotos:j.default.custom.getCollectionPhotos,d=void 0;c(u,1,2*i,a,s).then(function(e){var t=l.curated?1:e.headers.get("x-total");return d=Math.ceil(t/i),e}).then(k.toJson).then(k.throwErrorsIfPresent).then(fe).then(function(t){var r=t.entities,l=t.result;e.mounted&&(e.setState({showFeedPlaceholder:!1}),o(r),n({photoIds:l,lastPageFetched:2,maxPage:d,orderBy:a,perPage:i}),e.fetchRelatedCollectionContent())})}},{key:"fetchRelatedCollectionContent",value:function(){var e=this,t=this.props.selectedCollection;if(!t.curated){var o=t.id,n=t.share_key;j.default.custom.getRelatedCollectionContent(o,n).then(k.toJson).then(k.throwErrorsIfPresent).then(function(t){var o=t.related_collections,n=t.related_keywords;e.setState({relatedCollections:o,relatedKeywords:n})})}}},{key:"handleFetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest",n=this.props,r=n.selectedCollection,l=n.location;return r?((0,ue.testUrlForCurated)(l.pathname)?j.default.collections.getCuratedCollectionPhotos:j.default.custom.getCollectionPhotos)(r.id,e,t,o,r.share_key).then(k.toJson).then(k.throwErrorsIfPresent).then(fe):new Promise(function(e){return e({})})}},{key:"handleFetchResponse",value:function(e){var t=e.entities,o=e.result,n=this.props,r=n.updateData,l=n.addPhotosToPhotoFeed,a=n.location,i=n.photoFeed;(0,b.trackPageView)(a),r(t),l({photoIds:o,lastPageFetched:i.lastPageFetched+1})}},{key:"renderDescription",value:function(){var e=this.props.selectedCollection;return e.curated?null:c.default.createElement("h2",{className:de.default.description},e.description)}},{key:"renderFooter",value:function(){return this.props.selectedCollection.curated?c.default.createElement(V.default,null):c.default.createElement(W.default,null)}},{key:"renderEndContent",value:function(){var e=this.props.selectedCollection,t=this.state,o=t.relatedKeywords,n=t.relatedCollections;return c.default.createElement(L.default,{collection:e,relatedCollections:n,relatedKeywords:o})}},{key:"renderSocialButtons",value:function(){var e=this.props.selectedCollection,t=(0,P.buildCollectionUrl)(e),o=(0,se.buildCanonical)(t),n=e.title,r=e.user,l=n+" – an @unsplash collection by "+r.name;return c.default.createElement("div",{className:de.default.socialButtons},c.default.createElement(Q.default,{type:"facebook",url:o}),c.default.createElement(Q.default,{type:"twitter",url:o,message:l}))}},{key:"renderEditButton",value:function(){var e=this.props,t=e.location,o=e.selectedCollection,n=e.authUser;return o.curated?null:(0,h.default)(n,"username")!==(0,h.default)(o,"user.username")?null:c.default.createElement(K.default,{buttonType:"outline",buttonSize:"small",className:de.default.editButton,tag:"link",to:{pathname:t.pathname,query:{edit_collection_view:"is_visible"}}},"Edit")}},{key:"renderEditCollectionModal",value:function(){var e=this.props,t=e.location,o=e.authUser,n=e.selectedCollection;return n.curated?null:(0,h.default)(o,"username")!==(0,h.default)(n,"user.username")?null:c.default.createElement(J.default,{location:t,collection:n})}},{key:"renderFollowButton",value:function(){var e=this.props,t=e.selectedCollection,o=e.location;return c.default.createElement(R.default,{className:de.default.followButton,selectedUser:t.user,buttonType:"collector",location:o})}},{key:"renderCuratedHeader",value:function(e){var t=this.props,o=t.selectedCollection,n=t.isDownloadCuratedCollection,r=t.windowWidth,l=t.pixelRatio,a=t.trackCollectionDownloadButtonClick;return c.default.createElement("div",{className:de.default.containerCoverPhoto,style:(0,ue.getHeaderStyle)({selectedCollection:o,windowWidth:r,pixelRatio:l})},c.default.createElement("div",{className:de.default.clearfix},c.default.createElement(B.default,{title:e,className:de.default.collectionPageHeader},c.default.createElement("div",null,o.description&&c.default.createElement("h2",{className:de.default.curatedCollectionDescription},o.description),c.default.createElement(te.default,{includeAvatar:!0,user:o.user}),c.default.createElement("div",{className:de.default.rightSideButtons},n&&c.default.createElement(K.default,{buttonSize:"small",tag:"a",href:o.links.download,className:de.default.downloadCollectionButton,download:!0,target:"_blank",track:function(){a(o)}},c.default.createElement($.default,{type:"download",className:de.default.downloadCollectionButtonIcon}),"Download collection"),this.renderEditButton(),this.renderFollowButton())))))}},{key:"renderHeader",value:function(){var e=this.props,t=e.windowWidth,o=e.selectedCollection,n=e.pixelRatio,r=o.private,l=c.default.createElement("div",null,r?c.default.createElement("span",{className:de.default.isPrivateContainer},c.default.createElement(ne.default,{className:de.default.isPrivateTooltip,label:"This collection is private. To share, copy the URL or make the collection public.",width:200},c.default.createElement($.default,{type:"lock",className:de.default.isPrivate}))):null,(0,b.buildCollectionTitle)(o));return o.curated?this.renderCuratedHeader(l):c.default.createElement("div",{className:de.default.containerCoverPhoto,style:(0,ue.getHeaderStyle)({selectedCollection:o,pixelRatio:n,windowWidth:t})},c.default.createElement("div",{className:de.default.clearfix},c.default.createElement(B.default,{title:l,className:de.default.collectionPageHeader},c.default.createElement("div",null,this.renderDescription(),c.default.createElement(te.default,{includeAvatar:!0,user:o.user}),c.default.createElement("div",{className:de.default.rightSideButtons},this.renderEditButton(),this.renderFollowButton())))))}},{key:"renderHelmet",value:function(){var e=(0,se.buildCollectionHeadTags)(this.props.selectedCollection),t=e.title,o=e.canonicalUrl,n=e.meta;return c.default.createElement(f.default,{title:t,meta:n,link:(0,P.buildLinks)(o)})}},{key:"renderFeedNavChild",value:function(){var e=this.props.selectedCollection;return e?c.default.createElement(le.default,{curated:e.curated,publishedAt:e.published_at,totalPhotos:e.total_photos}):null}},{key:"render",value:function(){var e=this.state.showFeedPlaceholder,t=this.props,o=t.selectedCollection,n=t.photoFeed,r=t.location,l=t.photos,a=o&&o.total_photos>0;return c.default.createElement("div",null,o&&this.renderHelmet(),o?this.renderHeader():c.default.createElement(q.default,null),c.default.createElement(A.default,{location:r,leftChild:this.renderFeedNavChild()}),a?c.default.createElement(x.default,{showPlaceholder:e,photos:l,photoFeed:n,handleFetch:this.handleFetch,handleFetchResponse:this.handleFetchResponse,location:r,endContent:o&&this.renderEndContent()}):c.default.createElement(ie.default,null),o&&this.renderFooter(),o&&this.renderEditCollectionModal())}}]),t}(s.Component);ye.propTypes=he,ye.contextTypes=me;var ve=function(e){return{photoFeed:(0,C.getPhotoFeed)(e),authUser:(0,E.getAuthUser)(e),windowWidth:(0,T.getWindowWidth)(e),pixelRatio:(0,w.getPixelRatio)(e),photos:(0,C.getDenormalizedPhotos)(e),selectedCollection:(0,O.getDenormalizedSelectedCollection)(e),isDownloadCuratedCollection:(0,M.getIsDownloadCuratedCollectionXp)(e)}},_e={resetPhotoFeed:v.resetPhotoFeed,unsetSelectedCollection:v.unsetSelectedCollection,updateData:v.updateData,setSelectedCollection:v.setSelectedCollection,addPhotosToPhotoFeed:v.addPhotosToPhotoFeed,trackCollectionDownloadButtonClick:v.trackCollectionDownloadButtonClick};t.default=(0,m.connect)(ve,_e)(ye)},1682:function(e,t,o){"use strict";function n(e){return"https://unsplash.com"+e}function r(e){var t=e.curated,o=e.cover_photo,r=e.user,u=e.total_photos,s=n((0,l.buildCollectionUrl)(e)),c=t?(0,a.curatedCollectionTitle)(u,r.name):(0,a.collectionTitle)(u,e),d=t?(0,i.curatedCollectionDescription)(u,r.name):(0,i.collectionDescription)(u,r.name,e.title);return{title:c,meta:(0,l.buildCollectionMetas)(o,c,d||"",s),canonicalUrl:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildCanonical=n,t.buildCollectionHeadTags=r;var l=o(93),a=o(1601),i=o(1640)},1683:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return function(){e&&t.push({pathname:o.pathname})}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(1),a=n(l),i=o(145),u=n(i),s=o(307),c=n(s),d=o(546),f=n(d),p={location:l.PropTypes.object.isRequired,collection:l.PropTypes.object},h={router:l.PropTypes.object.isRequired},m=function(e,t){var o=e.location,n=e.collection,l=t.router,i="is_visible"===o.query.edit_collection_view;return a.default.createElement(u.default,{isVisible:i,handleDismiss:r(i,l,o),className:f.default.container,location:o},a.default.createElement(c.default,{location:o,collection:n}))};m.displayName="EditCollectionModal",m.propTypes=p,m.contextTypes=h,t.default=m},1684:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1683);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1721:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousCuratedCollection=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(1),c=r(s),d=o(5),f=o(12),p=n(f),h=o(26),m=r(h),y=o(532),v=o(67),_=o(483),b=r(_),P={id:s.PropTypes.number.isRequired,previousCollection:s.PropTypes.object,updateData:s.PropTypes.func.isRequired},g=t.PreviousCuratedCollection=function(e){function t(){return l(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.previousCollection,o=e.id,n=e.updateData,r=1===o,l=!!t;r||l||m.default.collections.getCuratedCollection(o-1).then(h.toJson).then((0,v.normalizeResponse)("collection")).then(function(e){var t=e.entities;n(t)})}},{key:"render",value:function(){var e=this.props.previousCollection;return e?c.default.createElement(b.default,{collection:e}):null}}]),t}(s.Component);g.displayName="PreviousCuratedCollection",g.propTypes=P;var w=function(e,t){return{previousCollection:(0,y.getDenormalizedCollectionById)(e,t.id-1)}},T={updateData:p.updateData};t.default=(0,d.connect)(w,T)(g)},1722:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1721);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1723:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="related-collection-content"},1724:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return e.curated?null:i.default.createElement(p.default,{keywords:t,showHeading:!0})}function l(e,t){return e.curated?i.default.createElement(d.default,{id:e.id}):i.default.createElement(s.default,{collections:t})}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),i=n(a),u=o(520),s=n(u),c=o(1722),d=n(c),f=o(521),p=n(f),h=o(1958),m=n(h),y=o(1723),v={collection:a.PropTypes.object,relatedCollections:a.PropTypes.array,relatedKeywords:a.PropTypes.array},_={relatedCollections:[],relatedKeywords:[]},b=function(e){var t=e.collection,o=e.relatedCollections,n=e.relatedKeywords;return i.default.createElement("div",{className:m.default.endContent,"data-test":y.TEST_ATTRIBUTE},l(t,o),r(t,n))};b.displayName="RelatedCollectionContent",b.propTypes=v,b.defaultProps=_,t.default=b},1725:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1724);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(r).default}})},1943:function(e,t){e.exports={container:"_3t97C _22ZDn dvlCB","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",titlePlaceholder:"_8tWrp",descriptionPlaceholder:"_2xxbt",userPlaceholder:"_3d2ry",placeholderAnimation:"_2zk9y"}},1944:function(e,t){e.exports={containerFluid:"dvlCB",container:"_22ZDn dvlCB",clearfix:"_2VAYc _1iK9o",mb3:"_12UZG",mxn2:"_3vG8-","--xs-max":"(--xs-max)","--sm-min":"(--sm-min)","--md-min":"(--md-min)",fontWeightNormal:"UDEGo",fontSize15:"KRGlm",truncate:"_3myVE",colorGrey:"#999",containerCoverPhoto:"_32aFj",curatorContainer:"_1DOGe",curatedCollectionDescription:"_2hNoJ _12UZG UDEGo",description:"_16bz5 UDEGo",socialButtons:"PZ0Xg",rightSideButtons:"_2tn4J",isPrivateContainer:"w3ekM",isPrivate:"_2A7h_",isPrivateTooltip:"Gnryf",downloadCollectionButtonIcon:"_2B4Hr",editButton:"_2Oyx0",downloadCollectionButton:"_1fh9z",followButton:"_1qDK4"}},1958:function(e,t){e.exports={"--sm-min":"(--sm-min)",endContent:"Xyizi"}}});
//# sourceMappingURL=4.d071e.main.js.map